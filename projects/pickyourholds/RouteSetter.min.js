function RouteSetter(){const t=RouteSetter.prototype;RouteSetter.t=0,RouteSetter.i=1,RouteSetter.h=2,t.Ready=function(t,i,s){this.o=s,this.u=0,this.g=0,this.$=t,this.m=i,this.l=!1,this.p=new Image,this.R=[]},t.S=function(){this.u=0,this.R=[],this.I()},t.Undo=function(){const t=this.R.pop();if(t){const i=this.m.getContext("2d");i.clearRect(0,0,this.m.width,this.m.height),i.drawImage(t,0,0)}this.l&&1==this.R.length?this.u=1:0==this.R.length&&(this.u=0)},t.RestoreImage=function(){this.$.getContext("2d").drawImage(this.p,0,0);this.m.getContext("2d").clearRect(0,0,this.m.width,this.m.height),this.S()},t.SelectFile=function(t,i){const s=document.createElement("input");$(s).attr("type","file"),$(s).attr("accept","image/*"),$(s).attr("capture","camera"),$(s).css("display","none");const n=this;$(s).on("change",(function(){$(t).css("display","none"),$(i).css("display","block"),n.SetImage(URL.createObjectURL(this.files[0])),$(s).remove()})),$(document.body).append(s),$(s).click()},t.SetImage=function(t){const i=new Image;i.src=t,$(i).css("display","none");const s=this;$(i).on("load",(function(){const t=.9*window.innerWidth;let n=1;n=i.width>t?i.width/t:t/i.width,i.width/=n,i.height/=n;try{const t=$(s.$).parent();$(t).css("width",i.width),$(t).css("height",i.height),s.$.width=i.width,s.$.height=i.height,s.m.width=i.width,s.m.height=i.height;s.$.getContext("2d").drawImage(i,0,0,i.width,i.height),s.p.src=s.$.toDataURL("image/png");const n=s.$.getBoundingClientRect();s.g=n.width>n.height?.04*n.width:.04*n.height,setTimeout((()=>{s.S()}),0)}catch(t){console.log(t)}finally{$(i).remove()}})),$(document.body).append(i)},t.I=function(){this.l=window.confirm("Two Starting Holds? ✋✋")},t.AddEvents=function(){$(this.m).on("click",(t=>{this.k(t)})),$(this.m).on("dblclick",(t=>{this.M(t)}))},t.DownloadImage=function(t){const i=document.createElement("canvas");i.width=this.$.width,i.height=this.$.height;const s=i.getContext("2d");s.drawImage(this.$,0,0,i.width,i.height),s.drawImage(this.m,0,0,i.width,i.height);const n=i.toDataURL("image/png");t.href=n.replace(/^data:image\/[^;]/,"data:application/octet-stream"),t.click()},t.k=function(t){if(2==t.detail)return;const i=new Image;i.src=this.m.toDataURL("image/png"),this.R.push(i);const s=this.m.getContext("2d"),n=this.m.getBoundingClientRect(),h=t.clientX-n.left,e=t.clientY-n.top,o=n.width>n.height?.06*n.width:.06*n.height,c=.4*o,a=2*Math.PI;s.beginPath(),s.arc(h,e,c,0,a,!1),s.lineWidth=.15*o,s.strokeStyle="white",s.stroke(),0==this.u||1==this.u&&this.l?s.strokeStyle="red":s.strokeStyle="springgreen",s.arc(h,e,c,0,a,!1),s.lineWidth=.1*o,this.u++,s.stroke()},t.M=function(t){this.Undo();const i=new Image;i.src=this.m.toDataURL("image/png"),this.R.push(i);const s=this.m.getContext("2d"),n=this.m.getBoundingClientRect(),h=t.clientX-n.left,e=t.clientY-n.top,o=n.width>n.height?.06*n.width:.06*n.height,c=.4*o,a=2*Math.PI;s.beginPath(),s.arc(h,e,c,0,a,!1),s.lineWidth=.15*o,s.strokeStyle="white",s.stroke(),s.arc(h,e,c,0,a,!1),s.lineWidth=.1*o,s.strokeStyle="rgb(0, 85, 255)",s.stroke()}}