<!DOCTYPE html>
<html>
<head>
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>PICK YOUR HOLDS (a.k.a Ï∞çÎ≥º)</title>
<script src='https://younggeun0.github.io/projects/pickyourholds/jquery/jquery-3.6.0.min.js'></script>
<link rel='stylesheet' href='https://younggeun0.github.io/projects/pickyourholds/jquery/jquery-ui.css' type='text/css' />
<script src='https://younggeun0.github.io/projects/pickyourholds/jquery/jquery-ui.min.js'></script>
<script type="text/javascript" src="https://younggeun0.github.io/projects/pickyourholds/BRouteSetter.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="https://younggeun0.github.io/projects/pickyourholds/stylesheet.css" type="text/css" charset="utf-8" />
</head>
<body style="margin:0px;">
<div id="pyh-wrapping-div">
    <div id="pyh-default-div" style="display:block;">
        <span style="font-size:4em; color:#409EEF;">PICK</span><br/>
        <span style="font-size:3em;">
            <span style="color:#98C379;">YOUR</span> <span style="color:#C85358;">HOLDS</span><br/>
        </span>
        <span style="font-size:2em; color:#E5A656">(a.k.a Ï∞çÎ≥º)</span>
        <div>
            <input class="pyh-btns" id="btn-start-pick" 
                type="button" value=" START üßó‚Äç‚ôÄÔ∏è" onclick="InitBRouteSetter()" 
                alt="Pick Your Holds Button"
                style="font-size:2em; margin:25% 0 5% 0; color:#C678DD; background-color: springgreen;">
        </div>
        <div>
            <a href="https://github.com/younggeun0" style="color:#C678DD;">created by younggeun0</a>
        </div>
    </div>
    <div id="pyh-setter-div" style="display:none;">
        <canvas id="pyh-setter-canvas"></canvas>
        <div style=" margin: 1% 0% 1% 0%; line-height: normal;">
            <input class="pyh-btns" id="btn-add-hands" type="button" value="üßó‚Äç‚ôÇÔ∏èüßó‚Äç‚ôÄÔ∏è"/>
            <input class="pyh-btns" type="button" value="‚ú®" onclick="Reset()" />
            <input class="pyh-btns" id="recapture" type="button" value="üì∑" onclick="SelectFile()" />
            <a class="pyh-btns" id="pyh-download" style="padding: 1px 6px" download="image.png" onclick="DownloadImage()">üíæ</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    // mobile vertical align issue fixed
    // ref: https://css-tricks.com/the-trick-to-viewport-units-on-mobile/
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
    window.addEventListener('resize', () => {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
    });

    let pSetter = null;
    let bToggle = false;
    // TODO 1. ÎßàÏª§ ÌÅ¨Í∏∞Ï°∞Ï†à Í∏∞Îä•
    // TODO 2. ÎßàÏª§ ÏÉâÏÉÅÏ°∞Ï†à Í∏∞Îä•
    function InitBRouteSetter() {
        if (!pSetter) {
            const pCanvas = document.getElementById('pyh-setter-canvas');
            const pBtnHands = document.getElementById('btn-add-hands');
            const pBtnFeet = document.getElementById('btn-add-feet');
            
            pSetter = new BRouteSetter();
            pSetter.ready(pCanvas, pBtnHands, '.pyh-btns');
            pSetter.AddEvents();
        }
        SelectFile();
    }
    function SelectFile() {
        const pDefautDiv = document.getElementById('pyh-default-div');
        const pSetterDiv = document.getElementById('pyh-setter-div');
        pSetter.SelectFile(pDefautDiv, pSetterDiv);
    }
    function Reset() {
        pSetter.RestoreImage();
    }
    function DownloadImage() {
        const pLinkNode = document.getElementById('pyh-download');
        pSetter.DownloadImage(pLinkNode);
    }
</script>
</body>
</html>